{
  "version": 3,
  "sources": ["../../../../../apps/common_features_v14/common_features_v14/public/js/update.js"],
  "sourcesContent": ["frappe.provide('common_features_v14');\n\ncommon_features_v14.update_indicator = function (link) {\n    if (document.querySelector(\"[role='thirvu-update-indicator']\")) {\n        return\n    }\n    let header = document.querySelector(\".main-section header[role='navigation']\").parentElement\n    var r = document.querySelector(':root');\n    r.style.setProperty('--navbar-height', '95px');\n    r.style.setProperty('--top-navhi', '40px');\n    let update_version_txt = `<a class='version-update-link' href='${link}'>updated version</a>`\n    header.prepend($(`\n            <div class=\"app-update\" role=\"thirvu-update-indicator\">\n                <div class=\"app-update-refresh\">\n                    <div>\n                        The application has been updated, please refresh this page to get a ${link?update_version_txt:'updated version'}\n                    </div>\n                    <button class=\"btn btn-primary\" onclick=frappe.ui.toolbar.clear_cache()>Refresh</button>\n                </div>\n            </div>`)[0]\n    );\n}\n\ndocument.addEventListener(\"DOMContentLoaded\", function (event) {\n    frappe.realtime.on(\"custom-version-update\", function ({ link }) {\n        common_features_v14.update_indicator(link)\n    });\n});\n\n\nfrappe.db.get_single_value(\"Thirvu System Settings\", \"toggle_full_width\").then((enabled) => {\n    if(enabled){\n        if(localStorage.container_fullwidth != \"true\"){\n            frappe.ui.toolbar.toggle_full_width()\n        }\n    }\n})\nfrappe.db.get_single_value(\"Thirvu System Settings\", \"hide_toggle_sidebar_in_list\").then((enabled) => {\n    if(enabled){\n        localStorage.show_sidebar = false\n    } else{\n        localStorage.show_sidebar = true\n    }\n})\n\n\n\n"],
  "mappings": ";;AAAA,SAAO,QAAQ,qBAAqB;AAEpC,sBAAoB,mBAAmB,SAAU,MAAM;AACnD,QAAI,SAAS,cAAc,kCAAkC,GAAG;AAC5D;AAAA,IACJ;AACA,QAAI,SAAS,SAAS,cAAc,yCAAyC,EAAE;AAC/E,QAAI,IAAI,SAAS,cAAc,OAAO;AACtC,MAAE,MAAM,YAAY,mBAAmB,MAAM;AAC7C,MAAE,MAAM,YAAY,eAAe,MAAM;AACzC,QAAI,qBAAqB,wCAAwC;AACjE,WAAO,QAAQ,EAAE;AAAA;AAAA;AAAA;AAAA,8FAIyE,OAAK,qBAAmB;AAAA;AAAA;AAAA;AAAA,mBAInG,EAAE,EACjB;AAAA,EACJ;AAEA,WAAS,iBAAiB,oBAAoB,SAAU,OAAO;AAC3D,WAAO,SAAS,GAAG,yBAAyB,SAAU,EAAE,QAAQ;AAC5D,0BAAoB,iBAAiB,IAAI;AAAA,IAC7C,CAAC;AAAA,EACL,CAAC;AAGD,SAAO,GAAG,iBAAiB,0BAA0B,mBAAmB,EAAE,KAAK,CAAC,YAAY;AACxF,QAAG,SAAQ;AACP,UAAG,aAAa,uBAAuB,QAAO;AAC1C,eAAO,GAAG,QAAQ,kBAAkB;AAAA,MACxC;AAAA,IACJ;AAAA,EACJ,CAAC;AACD,SAAO,GAAG,iBAAiB,0BAA0B,6BAA6B,EAAE,KAAK,CAAC,YAAY;AAClG,QAAG,SAAQ;AACP,mBAAa,eAAe;AAAA,IAChC,OAAM;AACF,mBAAa,eAAe;AAAA,IAChC;AAAA,EACJ,CAAC;",
  "names": []
}
