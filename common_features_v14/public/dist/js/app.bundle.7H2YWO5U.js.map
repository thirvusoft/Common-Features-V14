{
  "version": 3,
  "sources": ["../../../../../apps/common_features_v14/common_features_v14/public/js/update.js"],
  "sourcesContent": ["frappe.provide('cycle_world');\n\ncycle_world.update_indicator = function (link) {\n    if (document.querySelector(\"[role='thirvu-update-indicator']\")) {\n        return\n    }\n    let header = document.querySelector(\".main-section header[role='navigation']\").parentElement\n    var r = document.querySelector(':root');\n    r.style.setProperty('--navbar-height', '95px');\n    r.style.setProperty('--top-navhi', '40px');\n    let update_version_txt = `<a class='version-update-link' href='${link}'>updated version</a>`\n    header.prepend($(`\n            <div class=\"app-update\" role=\"thirvu-update-indicator\">\n                <div class=\"app-update-refresh\">\n                    <div>\n                        The application has been updated, please refresh this page to get a ${link?update_version_txt:'updated version'}\n                    </div>\n                    <button class=\"btn btn-primary\" onclick=frappe.ui.toolbar.clear_cache()>Refresh</button>\n                </div>\n            </div>`)[0]\n    );\n}\n\ndocument.addEventListener(\"DOMContentLoaded\", function (event) {\n    frappe.realtime.on(\"custom-version-update\", function ({ link }) {\n        cycle_world.update_indicator(link)\n    });\n});\n\n\n\nif(localStorage.container_fullwidth != \"true\"){\n    frappe.ui.toolbar.toggle_full_width()\n}"],
  "mappings": ";;AAAA,SAAO,QAAQ,aAAa;AAE5B,cAAY,mBAAmB,SAAU,MAAM;AAC3C,QAAI,SAAS,cAAc,kCAAkC,GAAG;AAC5D;AAAA,IACJ;AACA,QAAI,SAAS,SAAS,cAAc,yCAAyC,EAAE;AAC/E,QAAI,IAAI,SAAS,cAAc,OAAO;AACtC,MAAE,MAAM,YAAY,mBAAmB,MAAM;AAC7C,MAAE,MAAM,YAAY,eAAe,MAAM;AACzC,QAAI,qBAAqB,wCAAwC;AACjE,WAAO,QAAQ,EAAE;AAAA;AAAA;AAAA;AAAA,8FAIyE,OAAK,qBAAmB;AAAA;AAAA;AAAA;AAAA,mBAInG,EAAE,EACjB;AAAA,EACJ;AAEA,WAAS,iBAAiB,oBAAoB,SAAU,OAAO;AAC3D,WAAO,SAAS,GAAG,yBAAyB,SAAU,EAAE,QAAQ;AAC5D,kBAAY,iBAAiB,IAAI;AAAA,IACrC,CAAC;AAAA,EACL,CAAC;AAID,MAAG,aAAa,uBAAuB,QAAO;AAC1C,WAAO,GAAG,QAAQ,kBAAkB;AAAA,EACxC;",
  "names": []
}
